webpackJsonp([0],{27:function(a,b,c){"use strict";function d(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}Object.defineProperty(b,"__esModule",{value:!0}),c.d(b,"NegotiationService",function(){return g});var e=c(6),f=c(1);let g=class{constructor(){this._http=new e.a}getWeekNegotiations(){return this._http.get("http://localhost:3000/negotiations/week").then((a)=>a.map(({date:a,amount:b,value:c})=>new f.a(new Date(a),b,c))).catch(()=>{throw new ApplicationException("An error occurred while fetching this week's negotiations.")})}getPreviousWeekNegotiations(){return this._http.get("http://localhost:3000/negotiations/previous").then((a)=>a.map(({date:a,amount:b,value:c})=>new f.a(new Date(a),b,c))).catch(()=>{throw new ApplicationException("An error occurred while fetching previous week's negotiations.")})}getFortnightNegotiations(){return this._http.get("http://localhost:3000/negotiations/fortnight").then((a)=>a.map(({date:a,amount:b,value:c})=>new f.a(new Date(a),b,c))).catch(()=>{throw new ApplicationException("An error occurred while fetching previous week's negotiations.")})}getPeriodNegotiations(){var a=this;return d(function*(){try{const b=yield Promise.all([a.getWeekNegotiations(),a.getPreviousWeekNegotiations(),a.getFortnightNegotiations()]);return b.reduce(function(a,b){return a.concat(b)},[]).sort(function(c,a){return c.date.getTime()-a.date.getTime()})}catch(a){throw new ApplicationException("An error occurred while fetching the negotiations for the period.")}})()}}}});